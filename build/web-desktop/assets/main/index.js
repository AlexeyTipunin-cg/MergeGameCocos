System.register("chunks:///_virtual/AnimationData.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"b0a9dqhddJITL/+pAv3D1Fs","AnimationData",void 0);t("AnimationData",(function(){this.target=void 0,this.from=void 0,this.to=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationEvents.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var e;n("AnimationEvents",void 0),t._RF.push({},"3b1d51e3NJAaYHJbmaMIqUQ","AnimationEvents",void 0),function(n){n[n.onComplete=0]="onComplete"}(e||(e=n("AnimationEvents",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/BombStrategy.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"13a72LrFSRJEKQJgSZPCGWS","BombStrategy",void 0);t("BombStrategy",function(){function t(){}var e=t.prototype;return e.getCellsToDestroy=function(t,e){return this.getRadius(t,e,1)},e.getRadius=function(t,e,r){for(var n=t.indexToXY(e),o=[],u=n.y-r;u<=n.y+r;u++)for(var i=n.x-r;i<=n.x+r;i++){var c=t.XYToindex(i,u),s=t.indexToXY(c);c>=0&&c<t.cells.length&&s.y==u&&o.push(c)}return o},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BombView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonWithLabel.ts"],(function(t){"use strict";var e,i,n,r,o,l,a,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Label,u=t.Component},function(t){c=t.ButtonWithLabel}],execute:function(){var s,p,b,f,h,y,m;o._RF.push({},"3f39bOI0eBIUJtsMdi9x35i","BombView",void 0);var B=l.ccclass,w=l.property;t("BombView",(s=B("BombView"),p=w(c),b=w(a),s((y=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"button",y,r(e)),n(e,"countText",m,r(e)),e}return i(e,t),e}(u)).prototype,"button",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(h.prototype,"countText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonWithLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,o,l,a,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Button,u=t.Label,c=t.Component}],execute:function(){var s,p,b,h,f,y,v;o._RF.push({},"45486VwxG9E+ZrNT7Yp5mv4","ButtonWithLabel",void 0);var L=l.ccclass,g=l.property;t("ButtonWithLabel",(s=L("ButtonWithLabel"),p=g(a),b=g(u),s((y=e((f=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"button",y,n(e)),i(e,"text",v,n(e)),e}return r(e,t),e}(c)).prototype,"button",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(f.prototype,"text",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,l,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,l=e._decorator,n=e.Component}],execute:function(){var c;r._RF.push({},"c5295u12uJLMqgqsZ1HVguw","Cell",void 0);var o=l.ccclass;l.property,e("Cell",o("Cell")(c=function(e){function r(){for(var t,r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return(t=e.call.apply(e,[this].concat(l))||this).cellData=null,t}return t(r,e),r}(n))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/CellData.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"a43a1elG3tMd7cXiigSymGX","CellData",void 0);t("CellData",(function(){this.type=void 0,this.virtualCol=void 0,this.virtualRow=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/CellPrefabsFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cell.ts"],(function(e){"use strict";var t,r,i,l,n,a,c,o,s,p,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,c=e.SpriteFrame,o=e.Prefab,s=e.instantiate,p=e.Sprite,u=e.Component},function(e){f=e.Cell}],execute:function(){var h,y,C,b,g,v,m;n._RF.push({},"6aea2BpjE1Mabav9uTzpACC","CellPrefabsFactory",void 0);var F=a.ccclass,S=a.property;e("CellPrefabsFactory",(h=F("CellPrefabsFactory"),y=S(c),C=S({type:o}),h((v=t((g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"cellSprites",v,l(t)),i(t,"cell",m,l(t)),t}r(t,e);var n=t.prototype;return n.createCell=function(e){var t=s(this.cell),r=t.getComponent(p),i=t.getComponent(f);return i.cellData=e,r.spriteFrame=this.cellSprites[e.type],i},n.getCellWidth=function(){return this.cellSprites[0].rect.width},n.getCellHeight=function(){return this.cellSprites[0].rect.height},t}(u)).prototype,"cellSprites",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(g.prototype,"cell",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/CellStrategy.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"75a65VS3bxBALYsr4Rp0esC","CellStrategy",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/CellTypes.ts",["cc"],(function(e){"use strict";var l,s;return{setters:[function(e){l=e.cclegacy,s=e.Enum}],execute:function(){var t,E;e({CellColors:void 0,CellTypes:void 0}),l._RF.push({},"ba837Sn/gVDQqU3FdQL7H6r","CellTypes",void 0),function(e){e[e.YELLOW=0]="YELLOW",e[e.PURPLE=1]="PURPLE",e[e.GREEN=2]="GREEN",e[e.RED=3]="RED",e[e.BLUE=4]="BLUE"}(t||(t=e("CellColors",{}))),function(e){e[e.SIMPLE=0]="SIMPLE",e[e.BOMB=1]="BOMB"}(E||(E=e("CellTypes",{}))),s(t),l._RF.pop()}}}));

System.register("chunks:///_virtual/ColumnAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,i;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,o=t.tween,i=t.TweenSystem}],execute:function(){n._RF.push({},"ee420YzRrtDxpUIOeUG99Zp","ColumnAnimation",void 0);t("ColumnAnimation",function(){function t(){this.tweens=[],this.TWEEN_TAG=100}var n=t.prototype;return n.animateColumDrop=function(t,e){this.tweens=[];for(var n=0;n<e.length;n++){var r=e[n],s=(r.from.y-r.to.y)/t;o(r.target).tag(this.TWEEN_TAG).to(s,{position:r.to}).start();this.tweens.push(i.instance.ActionManager.getActionByTag(this.TWEEN_TAG,r.target))}},n.isDone=function(){for(var t,n=!0,o=e(this.tweens);!(t=o()).done;){if(!t.value.isDone()){n=!1;break}}return n},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/DisappearAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationEvents.ts"],(function(n){"use strict";var t,e,o,i,a,r;return{setters:[function(n){t=n.createForOfIteratorHelperLoose},function(n){e=n.cclegacy,o=n.Vec2,i=n.tween,a=n.EventTarget},function(n){r=n.AnimationEvents}],execute:function(){e._RF.push({},"f5c74JY6RZPLIm0+e1DeQN5","DisappearAnimation",void 0);n("DisappearAnimation",function(){function n(){this.onComplete=new a,this._isDone=!0}var e=n.prototype;return e.playAnimation=function(n){var e=this,a=new o(255);this._isDone=!1;i(a).tag(200).to(.2,{x:0},{onUpdate:function(e){for(var o,i=t(n);!(o=i()).done;){o.value.opacity=e.x}}}).call((function(){e._isDone=!0,e.onComplete.emit(r.onComplete)})).start()},e.isDone=function(){return this._isDone},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EndGamePopupView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts","./GameStates.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Button,u=t.Label,c=t.Component},function(t){l=t.GameEvents},function(t){p=t.GameStates}],execute:function(){var h,m,f,d,y,G,v;o._RF.push({},"5aaa5//3gxIFIJZdGDTWBy6","EndGamePopupView",void 0);var g=a.ccclass,b=a.property;t("EndGamePopupView",(h=g("EndGamePopupView"),m=b(s),f=b(u),h((G=e((y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"resrartButton",G,i(e)),r(e,"text",v,i(e)),e.mediator=null,e}n(e,t);var o=e.prototype;return o.start=function(){this.resrartButton.node.on(s.EventType.CLICK,this.resetGame,this)},o.onDestroy=function(){null!==this.resrartButton&&null!==this.resrartButton.node&&this.resrartButton.node.off(s.EventType.CLICK,this.resetGame,this)},o.onEnable=function(){this.setText(this.mediator.gameState)},o.init=function(t){this.mediator=t,this.mediator.onGameOver.on(l.onGameOver,this.setText,this)},o.resetGame=function(){this.mediator.reset()},o.setText=function(t){switch(t){case p.LOOSE:this.text.string="Failed! Try again.";break;case p.WIN:this.text.string="You win!"}},e}(c)).prototype,"resrartButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"text",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Field.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,l;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,o=t.Vec2,l=t.Vec3}],execute:function(){i._RF.push({},"60e61dACAVLzpCWOyAxHaqb","Field",void 0);t("Field",function(){function t(t,e,i,o){this.cellWidth=void 0,this.cellHeight=void 0,this.row=void 0,this.col=void 0,this.cells=[],this.cellWidth=t,this.cellHeight=e,this.row=i,this.col=o}var i=t.prototype;return i.getCell=function(t){var e=this.screenPosToIndex(t);return this.cells[e]},i.indexToXY=function(t){var e=Math.floor(t/this.col),i=Math.floor(t%this.col);return new o(i,e)},i.XYToindex=function(t,e){return e*this.row+t},i.getColumnIndices=function(t){for(var e=[],i=t;i<this.cells.length;i+=this.col)e.push(i);return e},i.removeCell=function(t){var e=this.screenPosToIndex(t);this.cells[e]=null},i.indexToFieldPos=function(t){var e=Math.floor(t/this.col),i=Math.floor(t%this.col);return new l(i*this.cellWidth,e*this.cellHeight)},i.screenPosToIndex=function(t){var e=Math.floor(t.y/this.cellHeight),i=Math.floor(t.x/this.cellWidth);return e*this.row+i},e(t,[{key:"sizeX",get:function(){return this.col}},{key:"sizeY",get:function(){return this.row}},{key:"cellsCount",get:function(){return this.cells.length}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/FieldAnimations.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColumnAnimation.ts"],(function(n){"use strict";var t,e,i,o,s,a;return{setters:[function(n){t=n.createForOfIteratorHelperLoose},function(n){e=n.cclegacy,i=n.Vec3,o=n.tween,s=n.TweenSystem},function(n){a=n.ColumnAnimation}],execute:function(){e._RF.push({},"c665eWFm9REgZcjVp4p/euW","FieldAnimations",void 0);n("FieldAnimations",function(){function n(){this.animations=[],this.shuffleTweens=[]}var e=n.prototype;return e.animateField=function(n,e){this.animations=[];for(var i,o=t(e);!(i=o()).done;){var s=i.value;if(s.length>0){var r=new a;r.animateColumDrop(n,s),this.animations.push(r)}}},e.animateShuffle=function(n,t){this.shuffleTweens=[];for(var e=0;e<t.length;e++){var a=t[e],r=i.distance(a.from,a.to)/n;o(a.target).tag(300).to(r,{position:a.to}).start();this.shuffleTweens.push(s.instance.ActionManager.getActionByTag(300,a.target))}},e.isCompleted=function(){return this.animations.every((function(n){return n.isDone()}))&&this.shuffleTweens.every((function(n){return n.isDone()}))},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/FieldChangeData.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"d2244X8lqhBhJ8NJzCWVSM9","FieldChangeData",void 0);e("FieldChangeData",(function(e,i,t,l){this.killedCells=void 0,this.createdCells=void 0,this.oldField=void 0,this.newField=void 0,this.killedCells=e,this.createdCells=i,this.oldField=t,this.newField=l}));i._RF.pop()}}}));

System.register("chunks:///_virtual/FieldColumn.ts",["cc"],(function(n){"use strict";var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"cc63epZ8HVJnYL/a6vnhy2M","FieldColumn",void 0);n("Column",(function(){}));c._RF.pop()}}}));

System.register("chunks:///_virtual/FieldController.ts",["cc","./GameEvents.ts","./CellTypes.ts","./ResourceItem.ts"],(function(e){"use strict";var i,t,o,n,s;return{setters:[function(e){i=e.cclegacy,t=e.Button},function(e){o=e.GameEvents},function(e){n=e.CellTypes},function(e){s=e.ResourceTypes}],execute:function(){i._RF.push({},"1cf66U0W+dIa4MO54MV5mMP","FieldController",void 0);e("FieldController",function(){function e(e,i,n){this.fieldModel=void 0,this.resourcesModel=void 0,this.mainScreenView=null,this.fieldModel=e,this.resourcesModel=i,this.mainScreenView=n,this.mainScreenView.fieldView.onTouchField.on(o.onTouchField,this.touchedField,this),this.fieldModel.onCellsDestoy.on(o.onCellsDestoy,this.onCellsDestroy,this),this.fieldModel.onCellsCreated.on(o.onCellsCreated,this.createCells,this),this.mainScreenView.onShuffleBtnClick.on(t.EventType.CLICK,this.onShuffleBtnClick,this),this.resourcesModel.listenResource(s.Shuffle,o.onResourceSpend,this.onSuffleApplied.bind(this)),this.resourcesModel.listenResource(s.Shuffle,o.onResourceUpdated,this.onShuffleCountUpdated.bind(this)),this.mainScreenView.onBombBtnClick.on(t.EventType.CLICK,this.onBombBtnClick,this),this.resourcesModel.listenResource(s.Bomb,o.onResourceSpend,this.onBombApplied.bind(this)),this.resourcesModel.listenResource(s.Bomb,o.onResourceUpdated,this.onBombCountUpdated.bind(this))}var i=e.prototype;return i.createField=function(e){this.fieldModel.startGame(e)},i.resetField=function(){this.mainScreenView.fieldView.resetGame()},i.touchedField=function(e){this.fieldModel.onTouch(e)},i.onCellsDestroy=function(e){this.mainScreenView.fieldView.destroyCells(e)},i.createCells=function(e){this.mainScreenView.fieldView.createCells(e)},i.onBombApplied=function(e){this.fieldModel.addModifier(n.BOMB)},i.onBombCountUpdated=function(e){this.mainScreenView.updateBombCount(e)},i.onBombBtnClick=function(){this.resourcesModel.spendResource(s.Bomb,1)},i.onShuffleCountUpdated=function(e){this.mainScreenView.updateShuffleCount(e)},i.onSuffleApplied=function(e){this.fieldModel.shuffle()},i.onShuffleBtnClick=function(){this.resourcesModel.spendResource(s.Shuffle,1)},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/FieldInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(t){"use strict";var n,e,o,r,c,i,s,u,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Input,c=t.UITransform,i=t.Vec3,s=t.EventTarget,u=t.Component},function(t){a=t.GameEvents}],execute:function(){var p;e._RF.push({},"e5c34oT/pVAYbBb90VCoVx1","FieldInput",void 0);var h=o.ccclass;o.property,t("FieldInput",h("FieldInput")(p=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).onFieldTouch=new s,n}n(e,t);var o=e.prototype;return o.start=function(){this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this)},o.onDestroy=function(){this.node.off(r.EventType.TOUCH_START,this.onTouchStart,this)},o.onTouchStart=function(t){var n=t.getUILocation(),e=this.node.getComponent(c).convertToNodeSpaceAR(new i(n.x,n.y,0));this.onFieldTouch.emit(a.onTouchField,e)},e}(u))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/FieldModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellData.ts","./Field.ts","./GameEvents.ts","./SimpleStrategy.ts","./CellTypes.ts","./FieldChangeData.ts","./BombStrategy.ts"],(function(e){"use strict";var t,i,l,s,a,n,o,r,c,f,h,g,d,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,s=e.randomRangeInt,a=e.EventTarget,n=e.Component},function(e){o=e.CellData},function(e){r=e.Field},function(e){c=e.GameEvents},function(e){f=e.SimpleCellStrategy},function(e){h=e.CellTypes,g=e.CellColors},function(e){d=e.FieldChangeData},function(e){u=e.BombStrategy}],execute:function(){l._RF.push({},"7e7cfLt1XdPor6K3W46gkH7","FieldModel",void 0);e("FieldModel",function(e){function l(){for(var t,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(t=e.call.apply(e,[this].concat(l))||this).fieldData=null,t.onCellsDestoy=new a,t.onCellsCreated=new a,t.onNoPairs=new a,t.gameConfig=null,t.cellModificator=h.SIMPLE,t.cellColors=[g.BLUE,g.GREEN,g.PURPLE,g.RED,g.YELLOW],t}t(l,e);var n=l.prototype;return n.chooseStrategy=function(e){switch(e){case h.SIMPLE:return new f;case h.BOMB:return new u}},n.startGame=function(e){this.gameConfig=e,this.createField()},n.createField=function(){this.fieldData=new r(this.gameConfig.cellSize.x,this.gameConfig.cellSize.y,this.gameConfig.sizeX,this.gameConfig.sizeY);for(var e=0;e<this.fieldData.sizeY;e++)for(var t=0;t<this.fieldData.sizeX;t++){var i=this.createCell(t,e);this.fieldData.cells.push(i)}this.onCellsCreated.emit(c.onCellsCreated,this.fieldData.cells)},n.addModifier=function(e){this.cellModificator=e},n.createCell=function(e,t){var i=s(0,this.cellColors.length),l=new o;return l.type=this.cellColors[i],l.virtualCol=e,l.virtualRow=t,l},n.onTouch=function(e){var t=this,i=this.chooseStrategy(this.cellModificator);this.cellModificator=h.SIMPLE;var l=this.fieldData.screenPosToIndex(e),s=i.getCellsToDestroy(this.fieldData,l);if(s.length>0){var a=s.map((function(e){return t.fieldData.cells[e]}));s.forEach((function(e){return t.destroyCell(e)}));for(var n=Object.assign([],this.fieldData.cells),o=Object.assign([],this.fieldData.cells),f=0;f<this.fieldData.col;f++)this.packColumn(f,o);var g=this.generateNewCells(o),u=new r(this.gameConfig.cellSize.x,this.gameConfig.cellSize.y,this.gameConfig.sizeX,this.gameConfig.sizeY);u.cells=o;var C=new r(this.gameConfig.cellSize.x,this.gameConfig.cellSize.y,this.gameConfig.sizeX,this.gameConfig.sizeY);C.cells=n,this.fieldData.cells=o;var m=new d(a,g,C,u);this.onCellsDestoy.emit(c.onCellsDestoy,m),this.hasPairs(this.fieldData)||this.onNoPairs.emit(c.onNoPairs)}},n.generateNewCells=function(e){for(var t=[],l=0;l<this.fieldData.col;l++)for(var s,a=this.fieldData.getColumnIndices(l),n=0,o=i(a);!(s=o()).done;){var r=s.value;if(!e[r]){var c=this.fieldData.row+n,f=this.createCell(l,c);t.push(f),e[r]=f,n++}}return t},n.packColumn=function(e,t){for(var l,s=this.fieldData.getColumnIndices(e),a=void 0,n=i(s);!(l=n()).done;){var o=l.value,r=t[o];if(void 0!==a||r||(a=o),void 0!==a&&r){var c=t[o];t[a]=c,t[o]=null,a+=this.fieldData.col}}},n.shuffle=function(){for(var e=Object.assign([],this.fieldData.cells),t=(Object.assign([],this.fieldData.cells),this.fieldData),i=0;i<t.cellsCount;i++){var l=s(0,t.cellsCount),a=t.cells[i];t.cells[i]=t.cells[l],t.cells[l]=a}var n=new r(this.gameConfig.cellSize.x,this.gameConfig.cellSize.y,this.gameConfig.sizeX,this.gameConfig.sizeY);n.cells=e;var o=new d([],[],n,this.fieldData);this.onCellsDestoy.emit(c.onCellsDestoy,o),this.hasPairs(this.fieldData)||this.onNoPairs.emit(c.onNoPairs)},n.hasPairs=function(e){for(var t=new f,i=0;i<e.cells.length;i++){if(t.getCellsToDestroy(e,i).length>1)return!0}return!1},n.destroyCell=function(e){this.fieldData.cells[e]&&(this.fieldData.cells[e]=null)},l}(n));l._RF.pop()}}}));

System.register("chunks:///_virtual/FieldView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationData.ts","./CellPrefabsFactory.ts","./FieldAnimations.ts","./FieldInput.ts","./GameEvents.ts","./DisappearAnimation.ts","./AnimationEvents.ts"],(function(e){"use strict";var t,i,n,o,a,l,r,s,c,u,d,f,p,h,m,v,F,y,w,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,r=e._decorator,s=e.Node,c=e.EventTarget,u=e.TweenSystem,d=e.UITransform,f=e.UIOpacity,p=e.Component},function(e){h=e.AnimationData},function(e){m=e.CellPrefabsFactory},function(e){v=e.FieldAnimations},function(e){F=e.FieldInput},function(e){y=e.GameEvents},function(e){w=e.DisappearAnimation},function(e){C=e.AnimationEvents}],execute:function(){var D,T,g,A,b,V,P,I,k;l._RF.push({},"a8cffMz45dMlqMyI+WRd5RP","FieldView",void 0);var z=r.ccclass,E=r.property;e("FieldView",(D=z("FieldView"),T=E({type:m}),g=E({type:s}),A=E({type:F}),D((P=t((V=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"cellsFactory",P,o(t)),n(t,"fieldParent",I,o(t)),n(t,"input",k,o(t)),t.animation=new v,t.disappearAnimation=new w,t.cellDataToView=new Map,t.onTouchField=new c,t}i(t,e);var l=t.prototype;return l.start=function(){this.input.onFieldTouch.on(y.onTouchField,this.onTouchFieldCallback,this)},l.onDestroy=function(){u.instance.ActionManager.removeAllActions()},l.resetGame=function(){for(var e,t=a(this.cellDataToView.values());!(e=t()).done;){e.value.node.destroy()}this.cellDataToView.clear()},l.createCell=function(e){var t=this.cellsFactory.createCell(e);t.node.parent=this.fieldParent;var i=t.getComponent(d);return t.node.setPosition(i.width*e.virtualCol,i.height*e.virtualRow),this.cellDataToView.set(t.cellData,t),t},l.destroyCells=function(e){this.destroyAnimation(e)},l.createCells=function(e){for(var t,i=a(e);!(t=i()).done;){var n=t.value;this.createCell(n)}},l.destroyCell=function(e){var t=this.cellDataToView.get(e);this.cellDataToView.delete(e),t.node.destroy()},l.onTouchFieldCallback=function(e){this.animation.isCompleted()&&this.disappearAnimation.isDone()&&this.onTouchField.emit(y.onTouchField,e)},l.createFieldDif=function(e,t){for(var i=new Array(e.col),n=0;n<i.length;n++){var o=e.getColumnIndices(n),l=[];i[n]=l;for(var r,s=a(o);!(r=s()).done;){var c=r.value,u=t.cells[c];if(u!==e.cells[c]){var d=this.cellDataToView.get(u).node,f=new h;f.target=d,f.from=d.position,f.to=t.indexToFieldPos(c),l.push(f)}}}return i},l.createFieldDifGeneric=function(e,t){for(var i=[],n=0;n<t.cellsCount;n++){var o=t.cells[n],a=this.cellDataToView.get(o).node;if(n!=t.screenPosToIndex(a.position)){var l=new h;l.target=a,l.from=a.position,l.to=t.indexToFieldPos(n),i.push(l)}}return i},l.destroyAnimation=function(e){var t=this,i=e.killedCells.map((function(e){return t.cellDataToView.get(e).getComponent(f)}));this.disappearAnimation.onComplete.once(C.onComplete,(function(){return t.updateField(e)}),this),this.disappearAnimation.playAnimation(i)},l.updateField=function(e){var t=this;if(0==e.createdCells.length&&0==e.killedCells.length){var i=this.createFieldDifGeneric(e.oldField,e.newField);this.animation.animateShuffle(1e3,i)}else{e.killedCells.forEach((function(e){return t.destroyCell(e)})),this.createCells(e.createdCells);var n=this.createFieldDif(e.oldField,e.newField);this.animation.animateField(1e3,n)}},t}(p)).prototype,"cellsFactory",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(V.prototype,"fieldParent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(V.prototype,"input",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=V))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,r,t,n,o,l,a,u,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.CCInteger,u=e.Vec2,c=e.Component}],execute:function(){var s,p,f,b,g,y,m,z,C,w,h,v,d,G,S,_,D;o._RF.push({},"f7a4fntyiZGMbTgr/j9qoX3","GameConfig",void 0);var X=l.ccclass,j=l.property;e("GameConfig",(s=X("GameConfig"),p=j({type:a}),f=j({type:a}),b=j(u),g=j(a),y=j(a),m=j(a),z=j(a),s((h=i((w=function(e){function i(){for(var i,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,t(i,"sizeX",h,n(i)),t(i,"sizeY",v,n(i)),t(i,"cellSize",d,n(i)),t(i,"winScore",G,n(i)),t(i,"turnsCount",S,n(i)),t(i,"shufflesCount",_,n(i)),t(i,"bombsCount",D,n(i)),i}return r(i,e),i}(c)).prototype,"sizeX",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),v=i(w.prototype,"sizeY",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),d=i(w.prototype,"cellSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),G=i(w.prototype,"winScore",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(w.prototype,"turnsCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(w.prototype,"shufflesCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(w.prototype,"bombsCount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=w))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["cc","./TurnsModel.ts","./ScoreModel.ts","./VictoryModel.ts","./FieldModel.ts","./GameEvents.ts","./FieldController.ts","./ResourcesModel.ts"],(function(e){"use strict";var o,t,n,i,s,r,l,c;return{setters:[function(e){o=e.cclegacy},function(e){t=e.TurnsModel},function(e){n=e.ScoreModel},function(e){i=e.VictoryModel},function(e){s=e.FieldModel},function(e){r=e.GameEvents},function(e){l=e.FieldController},function(e){c=e.ResourcesModel}],execute:function(){o._RF.push({},"db4b4EZjiFIRL71RIofoekC","GameController",void 0);e("GameController",function(){function e(e,o){this.gameConfig=null,this.gameViewsStorage=null,this.scoreController=new n,this.turnsController=new t,this.resourcesModel=null,this.victoryController=null,this.fieldModel=new s,this.mainScreenController=null,this.gameConfig=e,this.gameViewsStorage=o}var o=e.prototype;return o.startGame=function(){this.resourcesModel=new c,this.resourcesModel.setConfig(this.gameConfig),this.resourcesModel.init(),this.victoryController=new i(this.scoreController,this.turnsController,this.resourcesModel,this.gameConfig),this.victoryController.onResetGame.on(r.onResetGame,this.onResetGame,this),this.victoryController.onGameOver.on(r.onGameOver,this.onGameEnd,this),this.fieldModel.onCellsDestoy.on(r.onCellsDestoy,this.onFieldClick,this),this.fieldModel.onNoPairs.on(r.onNoPairs,this.onNoPairs,this),this.gameViewsStorage.mainScreenView.init(this.scoreController,this.turnsController,this.resourcesModel),this.gameViewsStorage.endGamePopupView.init(this.victoryController),this.mainScreenController=new l(this.fieldModel,this.resourcesModel,this.gameViewsStorage.mainScreenView),this.turnsController.setTurns(this.gameConfig.turnsCount),this.mainScreenController.createField(this.gameConfig)},o.onNoPairs=function(){this.victoryController.onNoPairs()},o.onFieldClick=function(e){this.victoryController.onTurnMade(e)},o.onGameEnd=function(e){this.gameViewsStorage.endGamePopupView.node.active=!0},o.onResetGame=function(){this.resetGame()},o.resetGame=function(){this.gameViewsStorage.endGamePopupView.node.active=!1,this.resourcesModel.reset(),this.turnsController.setTurns(this.gameConfig.turnsCount),this.scoreController.reset(),this.mainScreenController.resetField(),this.mainScreenController.createField(this.gameConfig)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvents.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var n;e("GameEvents",void 0),o._RF.push({},"d28e62O1V1FA5JyYUE+y1h9","GameEvents",void 0),function(e){e[e.onTouchField=0]="onTouchField",e[e.onCellsDestoy=1]="onCellsDestoy",e[e.onScoreUpdate=2]="onScoreUpdate",e[e.onTurnUpdate=3]="onTurnUpdate",e[e.onGameOver=4]="onGameOver",e[e.onResetGame=5]="onResetGame",e[e.onCellsCreated=6]="onCellsCreated",e[e.onNoPairs=7]="onNoPairs",e[e.onShuffle=8]="onShuffle",e[e.onResourceSpend=9]="onResourceSpend",e[e.onResourceUpdated=10]="onResourceUpdated"}(n||(n=e("GameEvents",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/GameStates.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var c;t("GameStates",void 0),e._RF.push({},"28cd6Yv+lpKI4JI/DU6GRpy","GameStates",void 0),function(t){t[t.PLAYING=0]="PLAYING",t[t.WIN=1]="WIN",t[t.LOOSE=2]="LOOSE"}(c||(c=t("GameStates",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameViewsStorage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EndGamePopupView.ts","./MainScreenView.ts"],(function(e){"use strict";var n,r,i,t,a,o,c,u,s,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,c=e._decorator,u=e.Component},function(e){s=e.EndGamePopupView},function(e){p=e.MainScreenView}],execute:function(){var l,m,f,w,g,d,y;o._RF.push({},"1140cVPmmNHubaj5hrDzDFX","GameViewsStorage",void 0);var S=c.ccclass,V=c.property;e("GameViewsStorage",(l=S("GameViewsStorage"),m=V(p),f=V(s),l((d=n((g=function(e){function n(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,i(n,"mainScreen",d,t(n)),i(n,"endGamePopup",y,t(n)),n}return r(n,e),a(n,[{key:"mainScreenView",get:function(){return this.mainScreen}},{key:"endGamePopupView",get:function(){return this.endGamePopup}}]),n}(u)).prototype,"mainScreen",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(g.prototype,"endGamePopup",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=g))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CellPrefabsFactory.ts","./GameController.ts","./StartGame.ts","./AnimationData.ts","./AnimationEvents.ts","./ColumnAnimation.ts","./DisappearAnimation.ts","./FieldAnimations.ts","./GameConfig.ts","./CellData.ts","./CellTypes.ts","./GameEvents.ts","./GameStates.ts","./ResourceItem.ts","./Field.ts","./FieldChangeData.ts","./FieldColumn.ts","./FieldInput.ts","./FieldModel.ts","./ResourcesModel.ts","./ScoreModel.ts","./TurnsModel.ts","./VictoryModel.ts","./BombStrategy.ts","./CellStrategy.ts","./SimpleStrategy.ts","./ButtonWithLabel.ts","./Cell.ts","./EndGamePopupView.ts","./GameViewsStorage.ts","./ScoreView.ts","./TurnsCounterView.ts","./BombView.ts","./FieldController.ts","./FieldView.ts","./MainScreenView.ts","./ScoreView2.ts","./ShuffleView.ts","./TurnsCounterView2.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScreenView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FieldView.ts","./ScoreView2.ts","./TurnsCounterView2.ts","./ShuffleView.ts","./BombView.ts","./ResourceItem.ts"],(function(e){"use strict";var t,i,n,o,u,r,l,s,c,f,a,b,w,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){u=e.cclegacy,r=e._decorator,l=e.EventTarget,s=e.Button,c=e.Component},function(e){f=e.FieldView},function(e){a=e.ScoreView},function(e){b=e.TurnsCounterView},function(e){w=e.ShuffleView},function(e){h=e.BombView},function(e){p=e.ResourceTypes}],execute:function(){var V,C,m,g,y,d,S,B,v,T,k,I,R;u._RF.push({},"d25e8g23OdIeoZI42CoiPpj","MainScreenView",void 0);var z=r.ccclass,L=r.property;e("MainScreenView",(V=z("MainScreenView"),C=L(f),m=L(a),g=L(b),y=L(w),d=L(h),V((v=t((B=function(e){function t(){for(var t,i=arguments.length,u=new Array(i),r=0;r<i;r++)u[r]=arguments[r];return t=e.call.apply(e,[this].concat(u))||this,n(t,"fieldView",v,o(t)),n(t,"scoreView",T,o(t)),n(t,"turnsCounterView",k,o(t)),n(t,"shuffleView",I,o(t)),n(t,"bombView",R,o(t)),t.onShuffleBtnClick=new l,t.onBombBtnClick=new l,t}i(t,e);var u=t.prototype;return u.init=function(e,t,i){this.turnsCounterView.init(t),this.scoreView.init(e),this.shuffleView.button.text.string=i.getResName(p.Shuffle),this.bombView.button.text.string=i.getResName(p.Bomb),this.updateShuffleCount(i.getResCount(p.Shuffle)),this.updateBombCount(i.getResCount(p.Bomb)),this.shuffleView.button.node.on(s.EventType.CLICK,this.onShuffleClick,this),this.bombView.button.node.on(s.EventType.CLICK,this.onBombClick,this)},u.updateShuffleCount=function(e){this.shuffleView.countText.string="Count: "+e},u.onShuffleClick=function(){this.onShuffleBtnClick.emit(s.EventType.CLICK)},u.updateBombCount=function(e){this.bombView.countText.string="Count: "+e},u.onBombClick=function(){this.onBombBtnClick.emit(s.EventType.CLICK)},t}(c)).prototype,"fieldView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(B.prototype,"scoreView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(B.prototype,"turnsCounterView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(B.prototype,"shuffleView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(B.prototype,"bombView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B))||S));u._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(t){"use strict";var e,n,o,s;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,o=t.EventTarget},function(t){s=t.GameEvents}],execute:function(){t("ResourceTypes",void 0),n._RF.push({},"0a3aaLC0ktOoLqFt1bwtnSZ","ResourceItem",void 0);var u;t("ResourceItem",function(){function t(){this.onUpdate=new o,this.type=void 0,this.name=void 0,this._count=void 0}return t.prototype.spend=function(t){this.count-=t,this.onUpdate.emit(s.onResourceSpend,this._count)},e(t,[{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.onUpdate.emit(s.onResourceUpdated,this._count)}}]),t}());!function(t){t[t.Shuffle=0]="Shuffle",t[t.Bomb=1]="Bomb"}(u||(u=t("ResourceTypes",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesModel.ts",["cc","./ResourceItem.ts"],(function(e){"use strict";var t,s,o;return{setters:[function(e){t=e.cclegacy},function(e){s=e.ResourceItem,o=e.ResourceTypes}],execute:function(){t._RF.push({},"606d9NCZPRBcLFYA1iL0qtp","ResourcesModel",void 0);e("ResourcesModel",function(){function e(){this.resources=new Map,this.gameConfig=null}var t=e.prototype;return t.setConfig=function(e){this.gameConfig=e},t.init=function(){this.resources.clear();var e=new s;e.type=o.Shuffle,e.count=this.gameConfig.shufflesCount,e.name="Shuffle";var t=new s;t.type=o.Shuffle,t.count=this.gameConfig.bombsCount,t.name="Bomb",this.resources.set(o.Shuffle,e),this.resources.set(o.Bomb,t)},t.reset=function(){this.resources.get(o.Shuffle).count=this.gameConfig.shufflesCount,this.resources.get(o.Bomb).count=this.gameConfig.bombsCount},t.getResCount=function(e){return this.resources.get(e).count},t.getResName=function(e){return this.resources.get(e).name},t.spendResource=function(e,t){var s=this.resources.get(e);s.count>0&&s.spend(t)},t.listenResource=function(e,t,s){this.resources.get(e).onUpdate.on(t,s)},t.unsubscribeResource=function(e,t,s){this.resources.get(e).onUpdate.off(t,s)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(e){"use strict";var t,o,r,c;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy,r=e.EventTarget},function(e){c=e.GameEvents}],execute:function(){o._RF.push({},"08803R+xAtAm5w3n9Ss0EEQ","ScoreModel",void 0);e("ScoreModel",function(){function e(){this.onScoreUpdate=new r,this.playerScore=0}var o=e.prototype;return o.setScore=function(e){this.playerScore+=e,this.onScoreUpdate.emit(c.onScoreUpdate,this.playerScore)},o.reset=function(){this.playerScore=0,this.onScoreUpdate.emit(c.onScoreUpdate,this.playerScore)},t(e,[{key:"score",get:function(){return this.playerScore}}]),e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(e){"use strict";var t,r,o,n,i,c,s,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.Label,a=e.Component},function(e){l=e.GameEvents}],execute:function(){var u,p,f,h,d;i._RF.push({},"9ad50pstW1JMYe3bH7qidKT","ScoreView",void 0);var S=c.ccclass,y=c.property;e("ScoreView",(u=S("ScoreView"),p=y(s),u((d=t((h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,o(t,"scoreText",d,n(t)),t.scoreController=null,t}r(t,e);var i=t.prototype;return i.onDestroy=function(){this.scoreController.onScoreUpdate.off(l.onScoreUpdate,this.updateScore,this)},i.init=function(e){this.scoreController=e,this.scoreController.onScoreUpdate.on(l.onScoreUpdate,this.updateScore,this),this.updateScore(0)},i.updateScore=function(e){this.scoreText.string=e.toString()},t}(a)).prototype,"scoreText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(e){"use strict";var t,r,o,n,i,c,s,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.Label,a=e.Component},function(e){l=e.GameEvents}],execute:function(){var u,p,h,f,d;i._RF.push({},"db8abgraD5On4bO8WhbmlCD","ScoreView",void 0);var S=c.ccclass,y=c.property;e("ScoreView",(u=S("ScoreView"),p=y(s),u((d=t((f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,o(t,"scoreText",d,n(t)),t.scoreController=null,t}r(t,e);var i=t.prototype;return i.onDestroy=function(){this.scoreController.onScoreUpdate.off(l.onScoreUpdate,this.updateScore,this)},i.init=function(e){this.scoreController=e,this.scoreController.onScoreUpdate.on(l.onScoreUpdate,this.updateScore,this),this.updateScore(0)},i.updateScore=function(e){this.scoreText.string=e.toString()},t}(a)).prototype,"scoreText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShuffleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonWithLabel.ts"],(function(e){"use strict";var t,i,n,r,o,l,u,c,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,u=e.Label,c=e.Component},function(e){a=e.ButtonWithLabel}],execute:function(){var s,f,p,b,h,y,w;o._RF.push({},"e2229kVcVNCCquIcG68Gbnz","ShuffleView",void 0);var g=l.ccclass,v=l.property;e("ShuffleView",(s=g("ShuffleView"),f=v(a),p=v(u),s((y=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"button",y,r(t)),n(t,"countText",w,r(t)),t}return i(t,e),t}(c)).prototype,"button",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(h.prototype,"countText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleStrategy.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5674fVsWCZB+bcB9EppovPY","SimpleStrategy",void 0);e("SimpleCellStrategy",function(){function e(){}var t=e.prototype;return t.getCellsToDestroy=function(e,t){var r=new Array(e.cells.length);r.fill(!1);for(var n=[t],l=[];n.length>0;){var s=n.pop();if(!r[s]&&(null!==e.cells[s]&&e.cells[s].type===e.cells[t].type)){l.push(s),r[s]=!0;var u=this.findNeihbours(e,s);n=n.concat(u)}}return l.length>1?l:[]},t.findNeihbours=function(e,t){var r=[],n=e.cells.length,l=t-e.row;l>=0&&r.push(l);var s=t+e.row;if(s<n&&r.push(s),t%e.row!=0){var u=t-1;r.push(u)}if((t+1)%e.row!=0){var c=t+1;r.push(c)}return r},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StartGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameViewsStorage.ts","./GameController.ts"],(function(e){"use strict";var t,r,n,o,a,i,l,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Component},function(e){s=e.GameConfig},function(e){c=e.GameViewsStorage},function(e){u=e.GameController}],execute:function(){var g,m,p,f,G,h,C;a._RF.push({},"b5c29oUxpBLWZ7Z1UepGWl2","StartGame",void 0);var y=i.ccclass,S=i.property;e("StartGame",(g=y("StartGame"),m=S(s),p=S(c),g((h=t((G=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,n(t,"gameConfig",h,o(t)),n(t,"gameViewsStorage",C,o(t)),t.gameController=null,t}return r(t,e),t.prototype.start=function(){this.gameController=new u(this.gameConfig,this.gameViewsStorage),this.gameController.startGame()},t}(l)).prototype,"gameConfig",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(G.prototype,"gameViewsStorage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=G))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/TurnsCounterView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(t){"use strict";var e,n,r,o,i,s,u,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,u=t.Label,c=t.Component},function(t){a=t.GameEvents}],execute:function(){var l,p,f,h,d;i._RF.push({},"bf3c24/PblIfYLzPtM400nY","TurnsCounterView",void 0);var T=s.ccclass,y=s.property;t("TurnsCounterView",(l=T("TurnsCounterView"),p=y(u),l((d=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(e,"scoreText",d,o(e)),e.turnsController=null,e}n(e,t);var i=e.prototype;return i.onDestroy=function(){this.turnsController.onTurnUpdate.off(a.onTurnUpdate,this.updateScore,this)},i.init=function(t){this.turnsController=t,this.turnsController.onTurnUpdate.on(a.onTurnUpdate,this.updateScore,this)},i.updateScore=function(t){this.scoreText.string=t.toString()},e}(c)).prototype,"scoreText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/TurnsCounterView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(t){"use strict";var e,n,r,o,i,s,u,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,u=t.Label,c=t.Component},function(t){a=t.GameEvents}],execute:function(){var l,p,f,h,d;i._RF.push({},"c0b9bbhDL1JWorXsDh7MfWA","TurnsCounterView",void 0);var T=s.ccclass,y=s.property;t("TurnsCounterView",(l=T("TurnsCounterView"),p=y(u),l((d=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(e,"scoreText",d,o(e)),e.turnsModel=null,e}n(e,t);var i=e.prototype;return i.onDestroy=function(){this.turnsModel.onTurnUpdate.off(a.onTurnUpdate,this.updateScore,this)},i.init=function(t){this.turnsModel=t,this.turnsModel.onTurnUpdate.on(a.onTurnUpdate,this.updateScore,this)},i.updateScore=function(t){this.scoreText.string=t.toString()},e}(c)).prototype,"scoreText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/TurnsModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents.ts"],(function(n){"use strict";var t,e,r,s;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.EventTarget},function(n){s=n.GameEvents}],execute:function(){e._RF.push({},"613a79Bn+5OpYkDbQ9gz9O4","TurnsModel",void 0);n("TurnsModel",function(){function n(){this.onTurnUpdate=new r,this.playerTurns=0}var e=n.prototype;return e.setTurns=function(n){this.playerTurns=n,this.onTurnUpdate.emit(s.onTurnUpdate,this.playerTurns)},e.decreaseTurns=function(){0!=this.playerTurns&&(this.playerTurns--,this.onTurnUpdate.emit(s.onTurnUpdate,this.playerTurns))},t(n,[{key:"turns",get:function(){return this.playerTurns}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/VictoryModel.ts",["cc","./GameEvents.ts","./GameStates.ts","./ResourceItem.ts"],(function(t){"use strict";var e,s,o,n,r;return{setters:[function(t){e=t.cclegacy,s=t.EventTarget},function(t){o=t.GameEvents},function(t){n=t.GameStates},function(t){r=t.ResourceTypes}],execute:function(){e._RF.push({},"d891alV7QVH0KcKUupC7CRB","VictoryModel",void 0);t("VictoryModel",function(){function t(t,e,o,r){this.onGameOver=new s,this.onResetGame=new s,this.scoreController=null,this.turnsController=null,this.resModel=null,this.config=null,this.gameState=n.PLAYING,this.scoreController=t,this.turnsController=e,this.resModel=o,this.config=r}var e=t.prototype;return e.onTurnMade=function(t){this.gameState===n.PLAYING&&(this.scoreController.setScore(t.killedCells.length),this.turnsController.decreaseTurns(),this.scoreController.score>=this.config.winScore?this.setWinState():0!==this.turnsController.turns||this.setLooseState())},e.onNoPairs=function(){0===this.resModel.getResCount(r.Shuffle)&&this.setLooseState()},e.reset=function(){this.gameState=n.PLAYING,this.onResetGame.emit(o.onResetGame)},e.setLooseState=function(){this.gameState=n.LOOSE,this.onGameOver.emit(o.onGameOver,!1)},e.setWinState=function(){this.gameState=n.WIN,this.onGameOver.emit(o.onGameOver,!0)},t}());e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});